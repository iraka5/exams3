<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Inscription - BNGRC</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>
    :root{ --brand:#13265C; --muted:#6b7280; --bg:#f6f8fb; }
    *{box-sizing:border-box}
    body{
      font-family:Inter,Segoe UI,Arial,sans-serif;
      background:var(--bg);
      margin:0;padding:0;
      display:flex;align-items:center;justify-content:center;
      min-height:100vh
    }
    .card{
      background:#fff;
      border-radius:12px;
      box-shadow:0 6px 30px rgba(19,38,92,0.12);
      width:360px;
      padding:28px
    }
    h2{margin:0 0 14px;color:var(--brand);font-size:22px;text-align:center}
    label{display:block;font-size:13px;color:var(--muted);margin-top:10px}
    input[type=text], input[type=email],input[type=password]{
      width:100%;padding:10px 12px;margin-top:6px;
      border:1px solid #e6e9ef;border-radius:8px;font-size:14px
    }
    .actions{display:flex;gap:10px;margin-top:18px}
    .btn{
      flex:1;padding:10px 14px;border-radius:999px;
      border:none;cursor:pointer;font-weight:600
    }
    .btn-primary{background:var(--brand);color:#fff}
    .btn-secondary{background:transparent;color:var(--brand);border:1px solid rgba(19,38,92,0.12)}
    .small{font-size:13px;color:var(--muted);text-align:center;margin-top:12px}
    a.link{color:var(--brand);text-decoration:none;font-weight:600}
    a.link:hover{text-decoration:underline}
    .error-message{
        background-color:#fee2e2;
        border:1px solid #ef4444;
        color:#b91c1c;
        padding:10px;
        border-radius:8px;
        margin-bottom:15px;
        font-size:14px;
        text-align:center;
        display:none;
    }
    .success-message{
        background-color:#dcfce7;
        border:1px solid #22c55e;
        color:#166534;
        padding:10px;
        border-radius:8px;
        margin-bottom:15px;
        font-size:14px;
        text-align:center;
        display:none;
    }
    @media (max-width:420px){.card{width:92%;padding:20px}}
  </style>
</head>
<body>

<div class="card">
    <h2>Créer un compte</h2>
    
    <!-- Messages d'erreur/succès -->
    <div id="errorMessage" class="error-message"></div>
    <div id="successMessage" class="success-message"></div>
    
    <form method="post" action="/exams3-main/exams3/signup">
        <label for="username">Nom d'utilisateur</label>
        <input id="username" type="text" name="username" required>

        <label for="email">Email</label>
        <input id="email" type="email" name="email" required>

        <label for="password">Mot de passe (minimum 6 caractères)</label>
        <input id="password" type="password" name="password" required>

        <div class="actions">
            <button class="btn btn-primary" type="submit">S'inscrire</button>
        </div>
        
        <div class="small">
            Vous avez déjà un compte ? 
            <a href="/exams3-main/exams3/login" class="link">Se connecter</a>
        </div>
    </form>
</div>

<script>
// Afficher les messages de l'URL
const urlParams = new URLSearchParams(window.location.search);
const error = urlParams.get('error');

if (error) {
    let message = '';
    switch(error) {
        case 'missing_fields':
            message = 'Tous les champs sont obligatoires';
            break;
        case 'invalid_email':
            message = 'Adresse email invalide';
            break;
        case 'password_too_short':
            message = 'Le mot de passe doit contenir au moins 6 caractères';
            break;
        case 'email_exists':
            message = 'Cet email est déjà utilisé';
            break;
        case 'db_error':
            message = 'Erreur technique. Veuillez réessayer plus tard';
            break;
        default:
            message = 'Une erreur est survenue';
    }
    const errorDiv = document.getElementById('errorMessage');
    errorDiv.textContent = message;
    errorDiv.style.display = 'block';
}
</script>

</body>
</html>